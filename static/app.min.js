(function(e,p,g){try{var l,h,b,c,f,q,m=0,u=100,r=e.getElementById("loader"),d=e.getElementsByTagName("noscript")[0],k=e.getElementById("psa"),w=e.getElementById("js-refresh"),n=function(a,b){r.style.display="block";e.getElementById("loader-content").style.display="none";(d=e.getElementById("loader-error")).style.display="block";a?(d.innerHTML=a,a=a.replace("<br>"," ")):a="AJAX Error: "+b;ga&&ga("send","event","Error","ShowError",a)},t=function(){0>=m?(m=45,x()):(setTimeout(t,1E3),w.textContent=10>
--m?"0"+m:m)},x=function(){r.style.display="block";c=new XMLHttpRequest;c.open("GET","https://steamdb.info/api/SteamRailgun/",!0);c.onreadystatechange=y;c.ontimeout=function(){n("Request timed out.<br>Reload the page manually.")};c.timeout=2E4;c.send()},y=function(){c=this;if(4===c.readyState){b=c.responseText;try{r.style.display="none";if(200!==c.status)return n("","Status: "+c.status);if(null===b||"{"!==b[0])return n("Received invalid data.<br>Is something wrong with your network?");b=JSON.parse(b);
if(!b.success)return n("","Success = false");f=b.psa||"";q=Math.abs(Date.now()/1E3-b.time);300<q&&(f&&(f+="<hr>"),f+="Data appears to be "+(0|q/60)+" minutes old.",3E3<q&&(f+=' <a href="http://time.is" target="_blank">Is your clock out of sync?</a>'));f?("block"!==k.style.display&&(k.style.display="block"),k.innerHTML!==f&&(k.innerHTML=f)):"none"!==k.style.display&&(k.innerHTML="",k.style.display="none");if(75>u&&75<=b.online&&g&&"granted"===g.permission){var a=new g("Steam is back online",{lang:"en",
icon:"/static/logos/192px.png",body:b.online+"% of Steam servers are online, you could try logging in now."});setTimeout(function(){a.close()},5E3)}u=b.online;b=b.services;for(l in b)if(d=e.getElementById(l))h=b[l],h.status&&(l="status "+h.status,d.className!==l&&(d.className=l)),h.time?d.innerHTML=h.title+' <span class="time" title="Time since last status change">('+z(h.time)+")</span>":d.textContent?d.textContent=h.title:d.innerText=h.title;t()}catch(m){n(""),console.debug("Status:",c.status,c.statusText),
console.debug("Data:",b)}}},z=function(a){a=Date.now()-1E3*a;return 6E4>a?"<1m":36E5>a?Math.round(a/6E4)+"m":864E5>a?Math.round(a/36E5)+"h":2592E6>a?"\u2248"+Math.round(a/864E5)+"d":31536E6>a?"\u2248"+Math.round(a/2592E6)+"m":"\u2248"+Math.round(a/31536E6)+"y"},A=function(){var a=e.getElementById("js-csgo-container"),b=e.getElementById("js-csgo-caret");p.getItem("show_csgo")&&(a.classList.remove("closed"),b.classList.add("up"));e.getElementById("js-csgo-services").addEventListener("click",function(c){c.preventDefault();
a.classList.contains("closed")?(a.classList.remove("closed"),p.setItem("show_csgo",1),b.classList.add("up")):(a.classList.add("closed"),p.removeItem("show_csgo"),b.classList.remove("up"))})};d&&d.parentNode.removeChild(d);t();!p||g&&!g.permission||!Element.prototype.addEventListener?e.getElementById("old-browser").style.display="block":(A(),g&&"denied"!==g.permission&&g.requestPermission());"serviceWorker"in navigator&&navigator.a.register("/static/service-worker.js")}catch(v){n("Something broke.<br>Are you using an outdated browser?"),
ga&&ga("send","event","Error","ShowError",v.message||"try-catch"),console.error(v)}})(document,localStorage,window.Notification);
