(function(f,m){try{var k,g,b,c,e,n,p=f.getElementById("loader"),d=f.getElementsByTagName("noscript")[0],h=f.getElementById("psa"),l=function(a){p.style.display="block";f.getElementById("loader-content").style.display="none";(d=f.getElementById("loader-error")).style.display="block";a&&(d.innerHTML=a)},q=function(){p.style.display="block";c=new XMLHttpRequest;c.open("GET","https://steamdb.info/api/SteamRailgun/?"+60*Math.round(Date.now()/1E3/60),!0);c.onreadystatechange=s;c.ontimeout=function(){l("Request timed out.<br>Reload the page manually.")};
c.timeout=2E4;c.send()},s=function(){c=this;if(4===c.readyState){b=c.responseText;try{p.style.display="none";if(200!==c.status)return l(0);if(null===b||"{"!==b[0])return l("Received invalid data.<br>Is something wrong with your network?");b=JSON.parse(b);if(!b.success)return l(0);e=b.psa||"";n=Math.abs(Date.now()/1E3-b.time);300<n&&(e&&(e="<hr>"),e+="Data appears to be "+(0|n/60)+" minutes old.",3E3<n&&(e+=' <a href="http://time.is" target="_blank">Is your clock out of sync?</a>'));e?("block"!==h.style.display&&
(h.style.display="block"),h.innerHTML!==e&&(h.innerHTML=e)):"none"!==h.style.display&&(h.innerHTML="",h.style.display="none");b=b.services;for(k in b)if(d=f.getElementById(k))if(g=b[k],g.status&&(k="status "+g.status,d.className!==k&&(d.className=k)),g.time){var a=Date.now()-1E3*g.time;d.innerHTML=g.title+' <span class="time" title="Time since last status change">('+(6E4>a?"just now":36E5>a?Math.round(a/6E4)+"m":864E5>a?Math.round(a/36E5)+"h":2592E6>a?"\u2248"+Math.round(a/864E5)+"d":31536E6>a?"\u2248"+
Math.round(a/2592E6)+"m":"\u2248"+Math.round(a/31536E6)+"y")+")</span>"}else d.textContent?d.textContent=g.title:d.innerText=g.title;setTimeout(q,6E4)}catch(m){l(0),console.debug("Status:",c.status,c.statusText),console.debug("Data:",b)}}},r=function(a){var b="show_"+a,c=f.getElementById(a+"-container");m.getItem(b)&&(c.className="mmstats services");f.getElementById(a+"-button").addEventListener("click",function(a){try{a.preventDefault(),"mmstats services"===c.className?(c.className="mmstats services closed",
m.removeItem(b)):(c.className="mmstats services",m.setItem(b,1))}catch(d){}})};d&&d.parentNode.removeChild(d);q();m&&Element.prototype.addEventListener&&(r("csgo"),r("dota"))}catch(t){l("Something broke.<br>Are you using an outdated browser?"),console.error(t)}})(document,localStorage);
