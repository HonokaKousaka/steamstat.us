(function(f,n,k){try{var l,g,b,c,e,p,r=0,q=f.getElementById("loader"),d=f.getElementsByTagName("noscript")[0],h=f.getElementById("psa"),m=function(a,b){q.style.display="block";f.getElementById("loader-content").style.display="none";(d=f.getElementById("loader-error")).style.display="block";a?(d.innerHTML=a,a=a.replace("<br>"," ")):a="AJAX Error: "+b;ga&&ga("send","event","Error","ShowError",a)},t=function(){q.style.display="block";c=new XMLHttpRequest;c.open("GET","https://steamdb.info/api/SteamRailgun/",
!0);c.onreadystatechange=v;c.ontimeout=function(){m("Request timed out.<br>Reload the page manually.")};c.timeout=2E4;c.send()},v=function(){c=this;if(4===c.readyState){b=c.responseText;try{q.style.display="none";if(200!==c.status)return m("","Status: "+c.status);if(null===b||"{"!==b[0])return m("Received invalid data.<br>Is something wrong with your network?");b=JSON.parse(b);if(!b.success)return m("","Success = false");e=b.psa||"";p=Math.abs(Date.now()/1E3-b.time);300<p&&(e&&(e+="<hr>"),e+="Data appears to be "+
(0|p/60)+" minutes old.",3E3<p&&(e+=' <a href="http://time.is" target="_blank">Is your clock out of sync?</a>'));e?("block"!==h.style.display&&(h.style.display="block"),h.innerHTML!==e&&(h.innerHTML=e)):"none"!==h.style.display&&(h.innerHTML="",h.style.display="none");if(75>r&&75<=b.online&&k&&"granted"===k.permission){var a=new k("Steam is back online",{lang:"en",icon:"/static/logos/192px.png",body:b.online+"% of Steam servers are online, you could try logging in now."});setTimeout(function(){a.close()},
5E3)}r=b.online;b=b.services;for(l in b)if(d=f.getElementById(l))g=b[l],g.status&&(l="status "+g.status,d.className!==l&&(d.className=l)),g.time?d.innerHTML=g.title+' <span class="time" title="Time since last status change">('+w(g.time)+")</span>":d.textContent?d.textContent=g.title:d.innerText=g.title;setTimeout(t,6E4)}catch(n){m(""),console.debug("Status:",c.status,c.statusText),console.debug("Data:",b)}}},w=function(a){a=Date.now()-1E3*a;return 6E4>a?"<1m":36E5>a?Math.round(a/6E4)+"m":864E5>a?
Math.round(a/36E5)+"h":2592E6>a?"\u2248"+Math.round(a/864E5)+"d":31536E6>a?"\u2248"+Math.round(a/2592E6)+"m":"\u2248"+Math.round(a/31536E6)+"y"},x=function(){var a=f.getElementById("csgo-container");n.getItem("show_csgo")&&a.classList.remove("closed");f.getElementById("csgo-button").addEventListener("click",function(b){b.preventDefault();a.classList.contains("closed")?(a.classList.remove("closed"),n.setItem("show_csgo",1)):(a.classList.add("closed"),n.removeItem("show_csgo"))})};d&&d.parentNode.removeChild(d);
t();n&&k&&k.permission&&Element.prototype.addEventListener?(x(),"denied"!==k.permission&&Notification.requestPermission()):f.getElementById("old-browser").style.display="block"}catch(u){m("Something broke.<br>Are you using an outdated browser?"),ga&&ga("send","event","Error","ShowError",u.message||"try-catch"),console.error(u)}})(document,localStorage,window.Notification);
